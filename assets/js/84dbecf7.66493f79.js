"use strict";(self.webpackChunknestjs_cls_docs=self.webpackChunknestjs_cls_docs||[]).push([[5908],{9120:e=>{e.exports=JSON.parse('{"version":{"pluginId":"default","version":"current","label":"Next","banner":null,"badge":false,"noIndex":false,"className":"docs-version-current","isLast":true,"docsSidebars":{"documentationSidebar":[{"type":"category","label":"Introduction","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"Installation","href":"/nestjs-cls/introduction/installation","docId":"introduction/installation","unlisted":false},{"type":"link","label":"Quick Start","href":"/nestjs-cls/introduction/quick-start","docId":"introduction/quick-start","unlisted":false},{"type":"link","label":"How it works","href":"/nestjs-cls/introduction/how-it-works","docId":"introduction/how-it-works","unlisted":false}],"href":"/nestjs-cls/"},{"type":"category","label":"Setting up the CLS context","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"Using a Middleware","href":"/nestjs-cls/setting-up-cls-context/using-a-middleware","docId":"setting-up-cls-context/using-a-middleware","unlisted":false},{"type":"link","label":"Using a Guard","href":"/nestjs-cls/setting-up-cls-context/using-a-guard","docId":"setting-up-cls-context/using-a-guard","unlisted":false},{"type":"link","label":"Using an Interceptor","href":"/nestjs-cls/setting-up-cls-context/using-an-interceptor","docId":"setting-up-cls-context/using-an-interceptor","unlisted":false},{"type":"link","label":"Using a Decorator","href":"/nestjs-cls/setting-up-cls-context/using-a-decorator","docId":"setting-up-cls-context/using-a-decorator","unlisted":false},{"type":"link","label":"Using the ClsService Instance","href":"/nestjs-cls/setting-up-cls-context/using_cls_run","docId":"setting-up-cls-context/using_cls_run","unlisted":false}],"href":"/nestjs-cls/setting-up-cls-context/"},{"type":"category","label":"Features and use cases","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"Request ID","href":"/nestjs-cls/features-and-use-cases/request-id","docId":"features-and-use-cases/request-id","unlisted":false},{"type":"link","label":"Additional CLS Setup","href":"/nestjs-cls/features-and-use-cases/additional-cls-setup","docId":"features-and-use-cases/additional-cls-setup","unlisted":false},{"type":"link","label":"Breaking out of DI","href":"/nestjs-cls/features-and-use-cases/breaking-out-of-di","docId":"features-and-use-cases/breaking-out-of-di","unlisted":false},{"type":"link","label":"Usage outside of web request","href":"/nestjs-cls/features-and-use-cases/usage-outside-of-web-request","docId":"features-and-use-cases/usage-outside-of-web-request","unlisted":false},{"type":"link","label":"Type safety and type inference","href":"/nestjs-cls/features-and-use-cases/type-safety-and-type-inference","docId":"features-and-use-cases/type-safety-and-type-inference","unlisted":false},{"type":"link","label":"Proxy Providers","href":"/nestjs-cls/features-and-use-cases/proxy-providers","docId":"features-and-use-cases/proxy-providers","unlisted":false}],"href":"/nestjs-cls/features-and-use-cases/"},{"type":"category","label":"API","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"Service Interface","href":"/nestjs-cls/api/service-interface","docId":"api/service-interface","unlisted":false},{"type":"link","label":"Module Options","href":"/nestjs-cls/api/module-options","docId":"api/module-options","unlisted":false}],"href":"/nestjs-cls/api/"},{"type":"category","label":"Considerations","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"Security","href":"/nestjs-cls/considerations/security","docId":"considerations/security","unlisted":false},{"type":"link","label":"Compatibility","href":"/nestjs-cls/considerations/compatibility","docId":"considerations/compatibility","unlisted":false},{"type":"link","label":"For library authors","href":"/nestjs-cls/considerations/for-library-authors","docId":"considerations/for-library-authors","unlisted":false}],"href":"/nestjs-cls/considerations/"},{"type":"category","label":"Plugins","collapsible":true,"collapsed":true,"items":[{"type":"category","label":"Available Plugins","collapsible":true,"collapsed":true,"items":[{"type":"category","label":"@nestjs-cls/transactional","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"Prisma adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/prisma-adapter","docId":"plugins/available-plugins/transactional/prisma-adapter","unlisted":false},{"type":"link","label":"Knex adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/knex-adapter","docId":"plugins/available-plugins/transactional/knex-adapter","unlisted":false},{"type":"link","label":"Kysely adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/kysely-adapter","docId":"plugins/available-plugins/transactional/kysely-adapter","unlisted":false},{"type":"link","label":"Pg-promise adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/pg-promise-adapter","docId":"plugins/available-plugins/transactional/pg-promise-adapter","unlisted":false},{"type":"link","label":"TypeORM adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/typeorm-adapter","docId":"plugins/available-plugins/transactional/typeorm-adapter","unlisted":false},{"type":"link","label":"MongoDB adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/mongodb-adapter","docId":"plugins/available-plugins/transactional/mongodb-adapter","unlisted":false},{"type":"link","label":"Mongoose adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/mongoose-adapter","docId":"plugins/available-plugins/transactional/mongoose-adapter","unlisted":false},{"type":"link","label":"Drizzle ORM adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/drizzle-orm-adapter","docId":"plugins/available-plugins/transactional/drizzle-orm-adapter","unlisted":false},{"type":"link","label":"Creating a custom adapter","href":"/nestjs-cls/plugins/available-plugins/transactional/creating-custom-adapter","docId":"plugins/available-plugins/transactional/creating-custom-adapter","unlisted":false}],"href":"/nestjs-cls/plugins/available-plugins/transactional/"}],"href":"/nestjs-cls/plugins/available-plugins/"},{"type":"link","label":"Plugin API","href":"/nestjs-cls/plugins/plugin-api","docId":"plugins/plugin-api","unlisted":false}],"href":"/nestjs-cls/plugins/"},{"type":"link","label":"Testing","href":"/nestjs-cls/testing/","docId":"testing/index","unlisted":false},{"type":"category","label":"Migration guide","collapsible":true,"collapsed":true,"items":[{"type":"link","label":"v5.x \u2192 v6.x","href":"/nestjs-cls/migration-guide/v5x-v6x","docId":"migration-guide/v5x-v6x","unlisted":false},{"type":"link","label":"v4.x \u2192 v5.x","href":"/nestjs-cls/migration-guide/v4x-v5x","docId":"migration-guide/v4x-v5x","unlisted":false},{"type":"link","label":"v3.x \u2192 v4.x","href":"/nestjs-cls/migration-guide/v3x-v4x","docId":"migration-guide/v3x-v4x","unlisted":false},{"type":"link","label":"v2.x \u2192 v3.x","href":"/nestjs-cls/migration-guide/v2x-v3x","docId":"migration-guide/v2x-v3x","unlisted":false}],"href":"/nestjs-cls/migration-guide/"}]},"docs":{"api/index":{"id":"api/index","title":"API","description":"This chapter describes the programmatic API of the ClsService and the ClsModule options.","sidebar":"documentationSidebar"},"api/module-options":{"id":"api/module-options","title":"Module Options","description":"forRoot(Async)","sidebar":"documentationSidebar"},"api/service-interface":{"id":"api/service-interface","title":"Service Interface","description":"ClsService","sidebar":"documentationSidebar"},"considerations/compatibility":{"id":"considerations/compatibility","title":"Compatibility","description":"NestJS-related versions Compatibility Matrix","sidebar":"documentationSidebar"},"considerations/for-library-authors":{"id":"considerations/for-library-authors","title":"For library authors","description":"If you are developing a library that depends on nestjs-cls, please make sure of the following:","sidebar":"documentationSidebar"},"considerations/index":{"id":"considerations/index","title":"Considerations","description":"This chapter exists to help you decide whether this library is compatible with your project and to address any concerns that you may have.","sidebar":"documentationSidebar"},"considerations/security":{"id":"considerations/security","title":"Security","description":"It is often discussed whether AsyncLocalStorage is safe to use for concurrent requests (because of a possible context leak) and whether the context could be lost_ throughout the duration of a request.","sidebar":"documentationSidebar"},"features-and-use-cases/additional-cls-setup":{"id":"features-and-use-cases/additional-cls-setup","title":"Additional CLS Setup","description":"The CLS middleware/guard/interceptor provide some default functionality, but sometimes you might want to store more contextual things in the CLS.","sidebar":"documentationSidebar"},"features-and-use-cases/breaking-out-of-di":{"id":"features-and-use-cases/breaking-out-of-di","title":"Breaking out of DI","description":"While this package aims to be compatible with NestJS\'s Dependency Injection, it is also possible to access the CLS context outside of it.","sidebar":"documentationSidebar"},"features-and-use-cases/index":{"id":"features-and-use-cases/index","title":"Features and use cases","description":"In addition to the basic functionality described in the Quick start chapter, this module provides several other features to make your life as a developer easier.","sidebar":"documentationSidebar"},"features-and-use-cases/proxy-providers":{"id":"features-and-use-cases/proxy-providers","title":"Proxy Providers","description":"Since v3.0","sidebar":"documentationSidebar"},"features-and-use-cases/request-id":{"id":"features-and-use-cases/request-id","title":"Request ID","description":"Because of a shared storage, CLS is an ideal tool for tracking request (correlation) IDs for the purpose of logging. This package provides an option to automatically generate request IDs in the middleware/guard/interceptor, if you pass { generateId: true } to its options. By default, the generated ID is a string based on Math.random(), but you can provide a custom function in the idGenerator option.","sidebar":"documentationSidebar"},"features-and-use-cases/type-safety-and-type-inference":{"id":"features-and-use-cases/type-safety-and-type-inference","title":"Type safety and type inference","description":"Since v2.0","sidebar":"documentationSidebar"},"features-and-use-cases/usage-outside-of-web-request":{"id":"features-and-use-cases/usage-outside-of-web-request","title":"Usage outside of web request","description":"Sometimes, a part of the app that relies on the CLS storage might need to be called outside of the context of a web request - for example, in a Cron job, while consuming a Queue, during the application bootstrap or in CLI apps.","sidebar":"documentationSidebar"},"introduction/how-it-works":{"id":"introduction/how-it-works","title":"How it works","description":"Continuation-local storage provides a common space for storing and retrieving data throughout the life of a function/callback call chain. In NestJS, this allows for sharing request data across the lifetime of a single request - without the need for request-scoped providers. It also makes it easy to track and log request ids throughout the whole application.","sidebar":"documentationSidebar"},"introduction/index":{"id":"introduction/index","title":"Introduction","description":"A continuation-local\\\\* storage module compatible with NestJS\' dependency injection based on Node\'s AsyncLocalStorage.","sidebar":"documentationSidebar"},"introduction/installation":{"id":"introduction/installation","title":"Installation","description":"Install as any other NPM package using your favorite package manager.","sidebar":"documentationSidebar"},"introduction/quick-start":{"id":"introduction/quick-start","title":"Quick Start","description":"Background","sidebar":"documentationSidebar"},"migration-guide/index":{"id":"migration-guide/index","title":"Migration guide","description":"In case you\'re upgrading to a new major version of this library, follow the according migration guide.","sidebar":"documentationSidebar"},"migration-guide/v2x-v3x":{"id":"migration-guide/v2x-v3x","title":"v2.x \u2192 v3.x","description":"Root registration method renamed","sidebar":"documentationSidebar"},"migration-guide/v3x-v4x":{"id":"migration-guide/v3x-v4x","title":"v3.x \u2192 v4.x","description":"The v4 major version should be largely backwards compatible with v3. However, breaking changes were introduced in some less-used APIs that should be mentioned.","sidebar":"documentationSidebar"},"migration-guide/v4x-v5x":{"id":"migration-guide/v4x-v5x","title":"v4.x \u2192 v5.x","description":"The v5 major version is backwards compatible with v4, unless you used it with manually-mounted ClsMiddleware to initialize the context.","sidebar":"documentationSidebar"},"migration-guide/v5x-v6x":{"id":"migration-guide/v5x-v6x","title":"v5.x \u2192 v6.x","description":"The v6 major version stabilizes the Plugin API and cleans up the proxy API on the ClsService.","sidebar":"documentationSidebar"},"plugins/available-plugins/index":{"id":"plugins/available-plugins/index","title":"Available Plugins","description":"This section lists all plugins that are maintained by the author of nestjs-cls. They are all published under the @nestjs-cls scope and are kept up to date with any changes to the library.","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/creating-custom-adapter":{"id":"plugins/available-plugins/transactional/creating-custom-adapter","title":"Creating a custom adapter","description":"If you can\'t find an adapter for a database library you want to use with @nestjs-cls/transactional, you can create a custom adapter. See below for a step-by-step guide.","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/drizzle-orm-adapter":{"id":"plugins/available-plugins/transactional/drizzle-orm-adapter","title":"Drizzle ORM adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/index":{"id":"plugins/available-plugins/transactional/index","title":"@nestjs-cls/transactional","description":"The Transactional plugin for nestjs-cls provides a generic interface that can be used to wrap any function call in","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/knex-adapter":{"id":"plugins/available-plugins/transactional/knex-adapter","title":"Knex adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/kysely-adapter":{"id":"plugins/available-plugins/transactional/kysely-adapter","title":"Kysely adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/mongodb-adapter":{"id":"plugins/available-plugins/transactional/mongodb-adapter","title":"MongoDB adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/mongoose-adapter":{"id":"plugins/available-plugins/transactional/mongoose-adapter","title":"Mongoose adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/pg-promise-adapter":{"id":"plugins/available-plugins/transactional/pg-promise-adapter","title":"Pg-promise adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/prisma-adapter":{"id":"plugins/available-plugins/transactional/prisma-adapter","title":"Prisma adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/available-plugins/transactional/typeorm-adapter":{"id":"plugins/available-plugins/transactional/typeorm-adapter","title":"TypeORM adapter","description":"Installation","sidebar":"documentationSidebar"},"plugins/index":{"id":"plugins/index","title":"Plugins","description":"Since v4.0, stable since v6.0","sidebar":"documentationSidebar"},"plugins/plugin-api":{"id":"plugins/plugin-api","title":"Plugin API","description":"The Plugin API is stable since v6.0.0 and should only change between major versions.","sidebar":"documentationSidebar"},"setting-up-cls-context/index":{"id":"setting-up-cls-context/index","title":"Setting up the CLS context","description":"This package provides multiple methods of setting up the CLS context for incoming requests. This is mainly due to the fact that different underlying platforms are compatible with only some of these methods - see Compatibility considerations.","sidebar":"documentationSidebar"},"setting-up-cls-context/using_cls_run":{"id":"setting-up-cls-context/using_cls_run","title":"Using the ClsService Instance","description":"All other methods of setting up the CLS context ultimately use the ClsService#run or ClsService#enter methods.","sidebar":"documentationSidebar"},"setting-up-cls-context/using-a-decorator":{"id":"setting-up-cls-context/using-a-decorator","title":"Using a Decorator","description":"The @UseCls() decorator can be used at a method level to declaratively wrap the method with a cls.run() call. This method should only be used outside of the context of a web request.","sidebar":"documentationSidebar"},"setting-up-cls-context/using-a-guard":{"id":"setting-up-cls-context/using-a-guard","title":"Using a Guard","description":"The ClsGuard can be also used set up the CLS context. While it is not a \\"guard\\" per-se, it\'s the second best place to set up the CLS context, since after a middleware, it is the first piece of code that the request hits.","sidebar":"documentationSidebar"},"setting-up-cls-context/using-a-middleware":{"id":"setting-up-cls-context/using-a-middleware","title":"Using a Middleware","description":"This section applies only if you use a HTTP transport (REST or GraphQL)","sidebar":"documentationSidebar"},"setting-up-cls-context/using-an-interceptor":{"id":"setting-up-cls-context/using-an-interceptor","title":"Using an Interceptor","description":"Another place to initiate the CLS context is an ClsInterceptor, which, unlike the ClsGuard uses AsyncLocalStorage#run method to wrap the following code, which is considered safer than enterWith.","sidebar":"documentationSidebar"},"testing/index":{"id":"testing/index","title":"Testing","description":"Unit testing","sidebar":"documentationSidebar"}}}}')}}]);